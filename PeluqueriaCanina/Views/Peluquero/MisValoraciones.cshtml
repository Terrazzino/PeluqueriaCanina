@model List<PeluqueriaCanina.Models.ClasesDeCliente.Valoracion>

@{
    ViewData["Title"] = "Mis Valoraciones";
}

<div class="glass-card mt-4 p-4">

    <h4 class="mb-3 text-white">Valoraciones recibidas</h4>

    @if (!Model.Any())
    {
        <div class="alert alert-info">Aún no tenés valoraciones.</div>
    }
    else
    {
        <h5 class="text-white mb-3">
            Promedio: @Model.Average(v => v.Puntuacion).ToString("0.0")
            <span class="text-warning">★</span> (@Model.Count)
        </h5>
        <hr class="border-light" />

        @foreach (var v in Model)
        {
            <div class="mb-3 p-3 border border-secondary rounded bg-dark-subtle">
                <div class="d-flex justify-content-between">
                    <strong class="text-warning">@(new string('★', v.Puntuacion))</strong>
                    <span class="text-muted">@v.FechaValoracion.ToString("dd/MM/yyyy")</span>
                </div>
                <div class="mt-2 text-white">
                    <p class="mb-1"><strong>Cliente:</strong> @v.Cliente?.Nombre @v.Cliente?.Apellido</p>
                    @if (!string.IsNullOrWhiteSpace(v.Comentario))
                    {
                        <p class="mb-0">@v.Comentario</p>
                    }
                </div>
            </div>
        }
    }
</div>
