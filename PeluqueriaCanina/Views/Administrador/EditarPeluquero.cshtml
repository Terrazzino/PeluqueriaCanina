@using PeluqueriaCanina.Models.Users
@model Peluquero
@{
    ViewData["Title"] = "EditarPeluquero";
}

<div class="card shadow-sm p-4 mt-4">
    <h2 class="text-primary mb-4">Editar Peluquero</h2>

    <form asp-action="EditarPeluquero" method="post">
        <input type="hidden" asp-for="Id" />

        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input asp-for="Nombre" class="form-control" />
            <span asp-validation-for="Nombre" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Apellido</label>
            <input asp-for="Apellido" class="form-control" />
            <span asp-validation-for="Apellido" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Mail</label>
            <input asp-for="Mail" class="form-control" />
            <span asp-validation-for="Mail" class="text-danger"></span>
        </div>

        <h4 class="mt-4">Jornadas laborales</h4>
        <div class="table-responsive mt-2">
            <table class="table table-bordered align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Día</th>
                        <th>Activo</th>
                        <th>Hora de Inicio</th>
                        <th>Hora de Fin</th>
                    </tr>
                </thead>
@*                 <tbody>
                    @for (int i = 0; i < Model.Jornadas.Count; i++)
                    {
                        <tr>
                            <td>
                                @Model.Jornadas[i].Dia
                                <input type="hidden" name="Jornadas[@i].Id" value="@Model.Jornadas[i].Id" />
                                <input type="hidden" name="Jornadas[@i].Dia" value="@Model.Jornadas[i].Dia"/>
                            </td>
                            <td class="text-center">
                                <input type="checkbox" name="jornadas[@i].Activo" value="true" @(Model.Jornadas[i].Activo?"checked":"")/>
                            </td>
                            <td>
                                <input type="time" class="form-control" name="Jornadas[@i].HoraDeInicio" value="@Model.Jornadas[i].HoraDeInicio.ToString(@"hh\:mm")"/>
                            </td>
                            <td>
                                <input type="time" class="form-control" name="Jornadas[@i].HoraDeFin" value="@Model.Jornadas[i].HoraDeFin.ToString(@"hh\:mm")"/>
                            </td>
                        </tr>
                    }
                </tbody> *@
                <tbody>
                    @for (int i = 0; i < Model.Jornadas.Count; i++)
                    {
                        <tr>
                            <td>
                                @Model.Jornadas[i].Dia
                                <input type="hidden" asp-for="Jornadas[@i].Id" />
                                <input type="hidden" asp-for="Jornadas[@i].Dia" />
                            </td>
                            <td class="text-center">
                                <input type="checkbox" asp-for="Jornadas[@i].Activo" class="form-check-input" />
                            </td>
                            <td>
                                <input type="time" asp-for="Jornadas[@i].HoraDeInicio" class="form-control" />
                            </td>
                            <td>
                                <input type="time" asp-for="Jornadas[@i].HoraDeFin" class="form-control" />
                            </td>
                        </tr>
                    }
                </tbody>

            </table>
        </div>

        <button type="submit" class="btn btn-success">Guardar cambios</button>
        <a asp-action="ListarPeluqueros" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
